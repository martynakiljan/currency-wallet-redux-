(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(e,n,t){},37:function(e,n,t){},53:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(13),i=t.n(c);t(37),t(20);function o(e){var n={length:0};return e.quantity.trim()||(n.length+=1,n.quantity="Please enter a quality"),e.date.trim()||(n.length+=1,n.date="Please enter a valid buy date"),e.price||(n.price="Please enter a price",n.length+=1),n}var s,d,l,u,h,b,p,j,x,g,O,f,m=t(14),y=t(2),v=t(23),w=t(26),C=t.n(w),E={SAVE_EXCHANGE:"saveExchange",GET_CURRENT_RATE:"getCurrentRateAction"},A=t(16),R=t(17),T=function(){function e(){var n=this;Object(A.a)(this,e),this.url="https://api.exchangeratesapi.io",this.getCurrencyPriceByDate=function(e,t){return fetch("".concat(n.url,"/").concat(e,"?base=PLN&symbols=").concat(t)).then(n.handleErrors).then((function(e){return e.json()})).then((function(e){return e.rates[t]}))}}return Object(R.a)(e,[{key:"getExchange",value:function(){return fetch("".concat(this.url,"/latest")).then(this.handleErrors).then((function(e){return e.json()}))}},{key:"getCurrencyRate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EUR",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PLN";return fetch("".concat(this.url,"/latest?base=").concat(e)).then(this.handleErrors).then((function(e){return e.json()})).then((function(e){return e.rates[n]}))}},{key:"handleErrors",value:function(e){if(!e.ok)throw new Error(e.statusText);return e}}]),e}(),S=new T,D=function(){return function(e,n){(new T).getExchange().then((function(n){var t;e((t=n.rates,{type:E.SAVE_EXCHANGE,payload:{exchange:t}})),console.log(n.rates)}))}},k=function(e,n){return function(t,r){S.getCurrencyPriceByDate(e,n).then((function(e){t({type:E.GET_CURRENT_RATE,payload:{currentRate:e}}),console.log(e)}))}},N={ADD_CURRENCY:"addCurrency",LOAD_DATA:"loadData"},z=new(function(){function e(){Object(A.a)(this,e)}return Object(R.a)(e,[{key:"saveToLocalStorage",value:function(e){try{var n=JSON.stringify(e);localStorage.setItem("persistantState",n)}catch(t){console.warn(t)}}},{key:"loadFromLocalStorage",value:function(){try{var e=localStorage.getItem("persistantState");if(null===e)return;return JSON.parse(e)}catch(n){return void console.warn(n)}}}]),e}()),q=function(){return function(e,n){var t,r=z.loadFromLocalStorage();r&&e((t=r,console.log(t),{type:N.LOAD_DATA,payload:t}))}},F=t(7),_=function(e){var n=Object(F.b)();Object(r.useEffect)((function(){n(D()),n(q())}),[n]);var t=Object(r.useState)({currency:"",quantity:"",date:"",price:""}),a=Object(v.a)(t,2),c=a[0],i=a[1],o=Object(r.useState)({}),s=Object(v.a)(o,2),d=s[0],l=s[1];return{handleChange:function(e){var n=e.target,t=n.name,r=n.value;i(Object(y.a)(Object(y.a)({},c),{},Object(m.a)({},t,r)))},handleSubmit:function(t){t.preventDefault();var r=e(c);if(l(r),console.log(c),0===r.length){var a=Object(y.a)({id:C()()},c),o=c.date,s=c.currency;n(function(e){return{type:N.ADD_CURRENCY,payload:{currency:e}}}(a)),n(k(o,s)),n((function(e,n){var t=n().localStorage.currencies;z.saveToLocalStorage(t)})),i(Object(y.a)(Object(y.a)({},c),{},{quantity:"",date:"",price:""}))}},values:c,errors:d}},U=t(3),P=t(4),L=P.b.div(s||(s=Object(U.a)(["\n\nmax-width: 900px;\nmargin: 0 auto;\nmin-height: 500px;\nbackground: rgb(238,174,202);\nbackground: radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,233,228,1) 100%);\n-webkit-box-shadow: 5px 5px 15px 5px #000000; \nbox-shadow: 5px 5px 15px 5px #CECECE;\n"]))),G=P.b.h1(d||(d=Object(U.a)(["\nwidth: 100%;\ntext-align: center;\ncolor: white;\npadding: 40px;\nfont-size: 30px;\ntext-transform: uppercase;\n\n"]))),B=P.b.div(l||(l=Object(U.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nwidth: 80%;\nmargin: 0 auto;\n"]))),I=P.b.form(u||(u=Object(U.a)(["\ndisplay: flex;\nflex-direction: column;\nbackground-color: white;\nmargin: 0 auto;\nwidth: 70%auto;\n\n@media (max-width: 760px) {\n   font-size:10px;\n   padding: 10px;\n  }\n\n@media (min-width: 760px) {\n   font-size:16px;\n   padding: 10px;\n  }\n"]))),K=P.b.h2(h||(h=Object(U.a)(["\nwidth: 100%;\ntext-align: center;\ncolor: #484848;\nfont-weight: lighter;\npadding: 10px;\nbox-shadow: 5px 5px 15px 5px #CECECE;\n@media (min-width: 650px) {\n   font-size: 20px;\n  }\n"]))),H=P.b.label(b||(b=Object(U.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nwidth: 100%;\nfont-size:14px;\nheight: 50px;\n@media (max-width: 650px) {\n    width: 100%\n}\n@media (min-width: 650px) {\n   font-size:16px;\n\n  }\n\n\n"]))),J=P.b.select(p||(p=Object(U.a)(["\n  display: block;\n  font-family: sans-serif;\n  font-size: 12px;\n  color: #444;\n  height: 30px;\n  padding-left: 5px;\n  width: 40%;\n  box-sizing: border-box;\n  margin: 0;\n  border: 1px solid #aaa;\n  box-shadow: 0 1px 0 1px rgba(0,0,0,.04);\n  border-radius: .3em;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n  background-color: #fff;\n  @media (max-width: 650px) {\n    width: 50%;\n    padding: 0;\n}\n@media (min-width: 650px) {\n   font-size:16px;\n\n  }\n\n\n"]))),Y=P.b.input(j||(j=Object(U.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  display: block;\n  height: 30px;\n  font-size: 16px;\n  font-family: sans-serif;\n  color: #444;\n  padding: .6em 1.4em .5em .8em;\n  box-sizing: border-box;\n  margin: 0;\n  border: 1px solid #aaa;\n  box-shadow: 0 1px 0 1px rgba(0,0,0,.04);\n  border-radius: .3em;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n  background-color: #fff;\n  margin-left: 40px;\n  @media (max-width: 650px) {\n    width: 100%;\n    \n  }\n@media (min-width: 650px) {\n   font-size:16px;\n   line-height: 1rem;\n   width: 60%;\n  }\n\n\n"]))),M=P.b.button(x||(x=Object(U.a)(["\n  text-transform: uppercase;\n  background-color: white;\n  font-size: 12px;\n  width: 100px;\n  margin: 0 auto;\n  margin-top: 20px;\n  box-shadow: 0 1px 0 1px rgba(0,0,0,.04);\n  border-radius: .5em;\n  border: none;\n  height: 35px;\n  box-shadow: 5px 5px 17px 5px rgba(229,229,229,0.2);\n  box-shadow: 5px 5px 15px 5px #CECECE;\n\n  @media (min-width: 650px) {\n   margin-top: 50px;\n   width: 30%;\n  }\n"]))),V=P.b.h3(g||(g=Object(U.a)(["\nwidth: 100%;\ntext-align: center;\nfont-weight: lighter;\ncolor: grey;\n\n"]))),X=(P.b.li(O||(O=Object(U.a)(["\ndisplay: flex;\nwidth: 100%;\njustify-content: space-around;\nfont-weight: bold;\nborder: 1px solid lightblue;\n\n\n"]))),t(1)),W=function(){var e=_(o),n=e.handleChange,t=e.values,r=e.handleSubmit,a=e.errors;return Object(X.jsxs)(I,{onSubmit:r,children:[Object(X.jsx)(K,{children:"Add a new currency and check the exchange rate!"}),Object(X.jsx)(B,{children:Object(X.jsxs)(H,{children:["Currency:"," ",Object(X.jsxs)(J,{name:"currency",id:"currency",onChange:n,children:[Object(X.jsx)("option",{selected:!0,disabled:!0,hidden:!0,required:!0,children:"Choose here"}),Object(X.jsx)("option",{value:"EUR",children:"EUR"}),Object(X.jsx)("option",{value:"CHF",children:"CHF"}),Object(X.jsx)("option",{value:"USD",children:"USD"}),Object(X.jsx)("option",{value:"GBP",children:"GBP"}),Object(X.jsx)("option",{value:"AUD",children:"AUD"}),Object(X.jsx)("option",{value:"CAD",children:"CAD"}),Object(X.jsx)("option",{value:"ISK",children:"ISK"}),Object(X.jsx)("option",{value:"ZAR",children:"ZAR"}),Object(X.jsx)("option",{value:"DKK",children:"DKK"}),Object(X.jsx)("option",{value:"RON",children:"RON"})]}),a.select&&Object(X.jsx)("p",{className:"error",children:a.select})]})}),Object(X.jsx)(B,{children:Object(X.jsxs)(H,{children:["Quantity:"," ",Object(X.jsx)(Y,{id:"quantity",type:"number",name:"quantity",value:t.quantity,onChange:n}),a.quantity&&Object(X.jsx)("p",{className:"error",children:a.quantity})]})}),Object(X.jsx)(B,{children:Object(X.jsxs)(H,{children:["Buy date:"," ",Object(X.jsx)(Y,{id:"date",type:"date",name:"date",value:t.date,onChange:n}),a.date&&Object(X.jsx)("p",{className:"error",children:a.date})]})}),Object(X.jsx)(B,{children:Object(X.jsxs)(H,{children:["Price:"," ",Object(X.jsx)(Y,{id:"price",type:"number",name:"price",value:t.price,onChange:n}),a.price&&Object(X.jsx)("p",{className:"error",children:a.price})]})}),Object(X.jsx)(M,{type:"submit",children:"Save"})]})},Z=t(5),Q=(t(52),function(){var e=Object(F.c)((function(e){return e.localStorage.currencies})),n=Object(F.c)((function(e){return e.api})).exchange,t=["currency","quantity","date","price","current rate","total","profit++ / loss--"],r=function(e){var n=e.quantity*e.price;return n.toFixed(2)},a=function(e,t){var r=e.quantity,a=e.currency,c=e.price,i=(r*c*n[a]-r*c).toFixed(2);return t<i?Object(X.jsxs)("span",{children:[" ",i," ++ "]}):Object(X.jsxs)("span",{children:[" ",i," -- "]})};return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(V,{children:"Added Currency:"}),Object(X.jsxs)(X.Fragment,{children:[" ",Object(X.jsxs)(Z.Table,{id:"tableItem",children:[Object(X.jsx)(Z.Thead,{children:Object(X.jsx)(Z.Tr,{children:t.map((function(e,n){return Object(X.jsx)("th",{children:e.toUpperCase()},n)}))})}),Object(X.jsx)(Z.Tbody,{children:e.map((function(e){var t=e.quantity,c=e.currency,i=e.price,o=e.date,s=e.id,d=parseFloat(n[e.currency]);return e?Object(X.jsxs)(Z.Tr,{children:[Object(X.jsx)(Z.Td,{children:c}),Object(X.jsxs)(Z.Td,{children:[t,"x"]}),Object(X.jsx)(Z.Td,{children:o}),Object(X.jsxs)(Z.Td,{children:[i," PLN "]}),Object(X.jsx)(Z.Td,{children:d}),Object(X.jsxs)(Z.Td,{children:[r(e)," ",c]}),Object(X.jsxs)(Z.Td,{children:[a(e,r)," "]})]},s):null}))})]})," "]})]})}),$=function(){return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(L,{children:[Object(X.jsx)(G,{children:"Your Wallet"}),Object(X.jsx)(W,{})]}),Object(X.jsx)(Q,{})]})},ee=Object(P.a)(f||(f=Object(U.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Montserrat:300,600');\n  \n  *, *::before, *::after {\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    \n    \n  }\n \n  \n  body {\n    padding: 0;\n    margin: 0;\n    font-family: 'Raleway', sans-serif;\n  \n   \n  }\n"]))),ne=t(6),te={exchange:[],currentRate:""},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case E.SAVE_EXCHANGE:var t=n.payload.exchange;return Object(y.a)(Object(y.a)({},e),{},{exchange:t});case E.GET_CURRENT_RATE:var r=n.payload.currentRate;return Object(y.a)(Object(y.a)({},e),{},{currentRate:r});default:return e}},ae=t(18),ce={currencies:[]},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case N.LOAD_DATA:return Object(y.a)(Object(y.a)({},e),{},{currencies:[].concat(Object(ae.a)(e.currencies),Object(ae.a)(n.payload))});case N.ADD_CURRENCY:var t=n.payload.currency;return console.log(n.payload),Object(y.a)(Object(y.a)({},e),{},{currencies:[].concat(Object(ae.a)(e.currencies),[t])});default:return e}},oe=Object(ne.combineReducers)({localStorage:ie,api:re}),se=t(31),de=t(32),le=Object(ne.createStore)(oe,Object(de.composeWithDevTools)(Object(ne.applyMiddleware)(se.a)));var ue=function(){return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ee,{}),Object(X.jsx)(F.a,{store:le,children:Object(X.jsx)($,{})})]})},he=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,54)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(X.jsx)(a.a.StrictMode,{children:Object(X.jsx)(ue,{})}),document.getElementById("root")),he()}},[[53,1,2]]]);
//# sourceMappingURL=main.31d4403a.chunk.js.map